(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{12:function(e,t,o){},4:function(e,t,o){"use strict";o.d(t,"e",(function(){return r})),o.d(t,"f",(function(){return n})),o.d(t,"d",(function(){return a})),o.d(t,"c",(function(){return s})),o.d(t,"g",(function(){return i})),o.d(t,"a",(function(){return c})),o.d(t,"b",(function(){return l})),o.d(t,"h",(function(){return u}));const r="LOGOUT",n="SAVE_TOKEN",a="FETCH_USER_SUCCESS",s="FETCH_USER_FAILURE",i="UPDATE_USER",c="CODE_SAVE",l="CODE_UPDATE",u="Uploader"},54:function(e,t,o){"use strict";var r=o(12);o.n(r).a},55:function(e,t,o){var r={"./auth.js":56,"./lang.js":57,"./upload.js":58};function n(e){var t=a(e);return o(t)}function a(e){if(!o.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=a,e.exports=n,n.id=55},56:function(e,t,o){"use strict";o.r(t),o.d(t,"state",(function(){return c})),o.d(t,"getters",(function(){return l})),o.d(t,"mutations",(function(){return u})),o.d(t,"actions",(function(){return m}));var r=o(6),n=o.n(r),a=o(2),s=o.n(a),i=o(4);const c={user:null,token:s.a.get("token")},l={user:e=>e.user,token:e=>e.token,check:e=>null!==e.user},u={[i.f](e,{token:t,remember:o}){e.token=t,s.a.set("token",t,{expires:o?365:null})},[i.d](e,{user:t}){e.user=t},[i.c](e){e.token=null,s.a.remove("token")},[i.e](e){e.user=null,e.token=null,s.a.remove("token")},[i.g](e,{user:t}){e.user=t}},m={saveToken({commit:e,dispatch:t},o){e(i.f,o)},async fetchUser({commit:e}){try{const{data:t}=await n.a.get("/api/user");e(i.d,{user:t})}catch(t){e(i.c)}},updateUser({commit:e},t){e(i.g,t)},async logout({commit:e}){try{e(i.d,{user:null,token:null})}catch(e){}e(i.e)},async fetchOauthUrl(e,{provider:t}){const{data:o}=await n.a.post("/api/oauth/"+t);return o.url}}},57:function(e,t){},58:function(e,t,o){"use strict";o.r(t),o.d(t,"state",(function(){return n})),o.d(t,"getters",(function(){return a})),o.d(t,"mutations",(function(){return s})),o.d(t,"actions",(function(){return i}));o(6),o(2);var r=o(4);const n={code:null,uploader:null},a={code:e=>e.code,uploader:e=>e.uploader},s={[r.a](e,{code:t}){e.code=t},[r.b](e,{code:t}){e.code=t},[r.h](e,{uploader:t}){e.uploader=t}},i={saveCode({commit:e,dispatch:t},o){e(r.a,o)},updateCode({commit:e},t){e(r.b,t)},setUploader:function({commit:e,dispatch:t},o){e(r.h,o)}}},63:function(e,t,o){"use strict";o.r(t);var r=o(0),n={name:"App",data:()=>({appName:"Spa"}),mounted(){axios.post("http://localhost/laravel-woocommerce/csrf-token",{token:"hello",wbp_nonce:"my_nonce"}).then(e=>{console.log(e)}).catch(e=>{console.log(e.response)})}},a=(o(54),o(5)),s=Object(a.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"vue-frontend-app"}},[o("div",{staticClass:"container"},[o("h2",[e._v(e._s(e.appName)+" App")])]),e._v(" "),o("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" "),o("router-link",{attrs:{to:"/login"}},[e._v("Login")]),e._v(" "),o("router-view")],1)}),[],!1,null,null,null).exports,i=o(8);r.a.use(i.a);const c=o(55),l=c.keys().map(e=>[e.replace(/(^.\/)|(\.js$)/g,""),c(e)]).reduce((e,[t,o])=>(void 0===o.namespaced&&(o.namespaced=!0),{...e,[t]:o}),{});var u=new i.a.Store({modules:l}),m=o(9),d={name:"Home",data:()=>({msg:"Welcome to Your Vue.js Frontend App"})},p=Object(a.a)(d,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hello"},[t("span",[this._v(this._s(this.msg))])])}),[],!1,null,"3f5bfbc8",null).exports,f=o(25),v=o.n(f),h={middleware:"guest",metaInfo(){return{title:this.$t("login")}},data:()=>({form:new v.a({email:"",password:""}),remember:!1}),methods:{async login(){const{data:e}=await this.form.post("/api/login");console.log(e),this.$store.dispatch("auth/saveToken",{token:e.token,remember:this.remember}),await this.$store.dispatch("auth/fetchUser"),this.$router.push({name:"home"})}}},w=Object(a.a)(h,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"row"},[o("div",{staticClass:"col-lg-8 m-auto"},[o("div",{staticClass:"card",attrs:{title:"login"}},[o("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)},keydown:function(t){return e.form.onKeydown(t)}}},[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-md-3 col-form-label text-md-right"},[e._v("email")]),e._v(" "),o("div",{staticClass:"col-md-7"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("email")},attrs:{type:"email",name:"email"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})])]),e._v(" "),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-md-3 col-form-label text-md-right"},[e._v("password")]),e._v(" "),o("div",{staticClass:"col-md-7"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("password")},attrs:{type:"password",name:"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}})])]),e._v(" "),o("div",{staticClass:"form-group row"},[o("div",{staticClass:"col-md-3"}),e._v(" "),o("div",{staticClass:"col-md-7 d-flex"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.remember,expression:"remember"}],attrs:{type:"checkbox",name:"remember"},domProps:{checked:Array.isArray(e.remember)?e._i(e.remember,null)>-1:e.remember},on:{change:function(t){var o=e.remember,r=t.target,n=!!r.checked;if(Array.isArray(o)){var a=e._i(o,null);r.checked?a<0&&(e.remember=o.concat([null])):a>-1&&(e.remember=o.slice(0,a).concat(o.slice(a+1)))}else e.remember=n}}}),e._v("\n              remember_me\n\n            "),o("router-link",{staticClass:"small ml-auto my-auto",attrs:{to:{name:"password.request"}}},[e._v("\n              forgot_password\n            ")])],1)]),e._v(" "),o("div",{staticClass:"form-group row"},[o("div",{staticClass:"col-md-7 offset-md-3 d-flex"},[o("button",{attrs:{loading:e.form.busy}},[e._v("\n              login\n            ")])])])])])])])}),[],!1,null,null,null).exports;r.a.use(m.a);var g=new m.a({routes:[{path:"/",name:"Home",component:p},{path:"/login",name:"Login",component:w}]});o(6);try{window.Popper=o(13).default,window.$=window.jQuery=o(14),o(24)}catch(e){}window.axios=o(6),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";let _=document.head.querySelector('meta[name="csrf-token"]');_?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=_.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token"),r.a.config.productionTip=!1,new r.a({el:"#wpb-spa-app",store:u,router:g,...s})}},[[63,0,1]]]);